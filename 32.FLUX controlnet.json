{"last_node_id":95,"last_link_id":219,"nodes":[{"id":70,"type":"ApplyFluxControlNet","pos":{"0":14.358479499816895,"1":1552.7064208984375},"size":{"0":346,"1":98},"flags":{},"order":20,"mode":0,"inputs":[{"name":"controlnet","type":"FluxControlNet","link":155,"label":"ControlNet"},{"name":"image","type":"IMAGE","link":163,"slot_index":1,"label":"图像"},{"name":"controlnet_condition","type":"ControlNetCondition","link":null}],"outputs":[{"name":"controlnet_condition","type":"ControlNetCondition","links":[150],"slot_index":0,"shape":3,"label":"ControlNet条件"}],"properties":{"Node name for S&R":"ApplyFluxControlNet"},"widgets_values":[0.7000000000000001]},{"id":72,"type":"SaveImage","pos":{"0":762.3584594726562,"1":1246.7064208984375},"size":{"0":380.3061828613281,"1":664.359375},"flags":{},"order":31,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":158,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["canny_res"]},{"id":76,"type":"HEDPreprocessor","pos":{"0":14.358479499816895,"1":1416.7064208984375},"size":{"0":315,"1":82},"flags":{},"order":16,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":162,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[163,168],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"HEDPreprocessor"},"widgets_values":["disable",1024]},{"id":13,"type":"LoadFluxControlNet","pos":{"0":16.595958709716797,"1":-326.326904296875},"size":{"0":316.83343505859375,"1":86.47058868408203},"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"ControlNet","type":"FluxControlNet","links":[194],"slot_index":0,"shape":3,"label":"ControlNet"}],"properties":{"Node name for S&R":"LoadFluxControlNet"},"widgets_values":["flux-dev","flux-canny-controlnet-v3.safetensors"]},{"id":14,"type":"ApplyFluxControlNet","pos":{"0":14.595958709716797,"1":-27.326904296875},"size":{"0":346,"1":98},"flags":{},"order":23,"mode":0,"inputs":[{"name":"controlnet","type":"FluxControlNet","link":194,"label":"ControlNet"},{"name":"image","type":"IMAGE","link":213,"slot_index":1,"label":"图像"},{"name":"controlnet_condition","type":"ControlNetCondition","link":null}],"outputs":[{"name":"controlnet_condition","type":"ControlNetCondition","links":[182],"slot_index":0,"shape":3,"label":"ControlNet条件"}],"properties":{"Node name for S&R":"ApplyFluxControlNet"},"widgets_values":[0.7000000000000001]},{"id":39,"type":"PreviewImage","pos":{"0":2277,"1":-381},"size":{"0":345.3257141113281,"1":763.503662109375},"flags":{"collapsed":false},"order":22,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":212,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":92,"type":"CannyEdgePreprocessor","pos":{"0":17.595958709716797,"1":-197.326904296875},"size":{"0":315,"1":106},"flags":{},"order":17,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":211,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[212,213],"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"CannyEdgePreprocessor"},"widgets_values":[100,200,512]},{"id":7,"type":"VAEDecode","pos":{"0":379.595947265625,"1":-330.326904296875},"size":{"0":210,"1":46},"flags":{},"order":29,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":199,"slot_index":0,"label":"Latent"},{"name":"vae","type":"VAE","link":139,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[101,201],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":84,"type":"XlabsSampler","pos":{"0":388.595947265625,"1":-239.326904296875},"size":{"0":366.5379638671875,"1":608.5844116210938},"flags":{},"order":26,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":195,"slot_index":0,"label":"模型"},{"name":"conditioning","type":"CONDITIONING","link":196,"label":"正面条件"},{"name":"neg_conditioning","type":"CONDITIONING","link":203,"label":"负面条件"},{"name":"latent_image","type":"LATENT","link":208,"label":"Latent"},{"name":"controlnet_condition","type":"ControlNetCondition","link":182,"label":"ControlNet条件"}],"outputs":[{"name":"latent","type":"LATENT","links":[199],"slot_index":0,"shape":3,"label":"Latent"}],"properties":{"Node name for S&R":"XlabsSampler"},"widgets_values":[442308045131400,"fixed",25,1,3.5,0,1]},{"id":23,"type":"SaveImage","pos":{"0":765.595947265625,"1":-284.326904296875},"size":{"0":387.650146484375,"1":369.55987548828125},"flags":{},"order":32,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":101,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["canny_res"]},{"id":59,"type":"SaveImage","pos":{"0":788,"1":461},"size":{"0":380.3061828613281,"1":664.359375},"flags":{},"order":30,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":133,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["canny_res"]},{"id":56,"type":"LoadFluxControlNet","pos":{"0":27,"1":484},"size":{"0":316.83343505859375,"1":86.47058868408203},"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"ControlNet","type":"FluxControlNet","links":[130],"slot_index":0,"shape":3,"label":"ControlNet"}],"properties":{"Node name for S&R":"LoadFluxControlNet"},"widgets_values":["flux-dev-fp8","flux-depth-controlnet-v3.safetensors"]},{"id":65,"type":"MiDaS-DepthMapPreprocessor","pos":{"0":29,"1":608},"size":{"0":315,"1":106},"flags":{},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":143,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[164,167],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"MiDaS-DepthMapPreprocessor"},"widgets_values":[6.283185307179586,0.1,1024]},{"id":89,"type":"CLIPTextEncode","pos":{"0":5.595955848693848,"1":294.673095703125},"size":{"0":375.8175354003906,"1":81},"flags":{},"order":9,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":204,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[203],"slot_index":0,"shape":3,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":53,"type":"CLIPTextEncodeFlux","pos":{"0":34,"1":884},"size":{"0":389.3955078125,"1":130},"flags":{"collapsed":false},"order":12,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":127,"slot_index":0,"label":"CLIP"},{"name":"t5xxl","type":"STRING","link":137,"widget":{"name":"t5xxl"},"label":"T5XXL"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[123],"slot_index":0,"shape":3,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncodeFlux"},"widgets_values":["","luxury apartment",4]},{"id":57,"type":"ApplyFluxControlNet","pos":{"0":36,"1":759},"size":{"0":346,"1":98},"flags":{},"order":18,"mode":0,"inputs":[{"name":"controlnet","type":"FluxControlNet","link":130,"label":"ControlNet"},{"name":"image","type":"IMAGE","link":164,"slot_index":1,"label":"图像"},{"name":"controlnet_condition","type":"ControlNetCondition","link":null}],"outputs":[{"name":"controlnet_condition","type":"ControlNetCondition","links":[126],"slot_index":0,"shape":3,"label":"ControlNet条件"}],"properties":{"Node name for S&R":"ApplyFluxControlNet"},"widgets_values":[0.7000000000000001]},{"id":54,"type":"VAEDecode","pos":{"0":407,"1":495},"size":{"0":210,"1":46},"flags":{},"order":27,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":128,"slot_index":0,"label":"Latent"},{"name":"vae","type":"VAE","link":145,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[133],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":51,"type":"XlabsSampler","pos":{"0":438,"1":591},"size":{"0":317.3531188964844,"1":494},"flags":{},"order":24,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":144,"slot_index":0,"label":"模型"},{"name":"conditioning","type":"CONDITIONING","link":123,"label":"正面条件"},{"name":"neg_conditioning","type":"CONDITIONING","link":217,"label":"负面条件"},{"name":"latent_image","type":"LATENT","link":214,"label":"Latent"},{"name":"controlnet_condition","type":"ControlNetCondition","link":126,"label":"ControlNet条件"}],"outputs":[{"name":"latent","type":"LATENT","links":[128],"shape":3,"label":"Latent"}],"properties":{"Node name for S&R":"XlabsSampler"},"widgets_values":[154798591508401,"fixed",25,1,3.5,0,1]},{"id":94,"type":"CLIPTextEncode","pos":{"0":34,"1":1054},"size":{"0":375.8175354003906,"1":81},"flags":{},"order":10,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":216,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[217],"slot_index":0,"shape":3,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":67,"type":"CLIPTextEncodeFlux","pos":{"0":17.59595489501953,"1":1670.893798828125},"size":{"0":384.7248229980469,"1":130},"flags":{"collapsed":false},"order":14,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":151,"slot_index":0,"label":"CLIP"},{"name":"t5xxl","type":"STRING","link":152,"widget":{"name":"t5xxl"},"label":"T5XXL"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[147],"slot_index":0,"shape":3,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncodeFlux"},"widgets_values":["","luxury apartment",4]},{"id":95,"type":"CLIPTextEncode","pos":{"0":17.59595489501953,"1":1857.893798828125},"size":{"0":375.8175354003906,"1":81},"flags":{},"order":11,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":218,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[219],"slot_index":0,"shape":3,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":69,"type":"LoadFluxControlNet","pos":{"0":16.59595489501953,"1":1264.893798828125},"size":{"0":316.83343505859375,"1":86.47058868408203},"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"ControlNet","type":"FluxControlNet","links":[155],"slot_index":0,"shape":3,"label":"ControlNet"}],"properties":{"Node name for S&R":"LoadFluxControlNet"},"widgets_values":["flux-dev-fp8","flux-hed-controlnet-v3.safetensors"]},{"id":66,"type":"XlabsSampler","pos":{"0":413.595947265625,"1":1355.893798828125},"size":{"0":317.3531188964844,"1":494},"flags":{},"order":25,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":166,"slot_index":0,"label":"模型"},{"name":"conditioning","type":"CONDITIONING","link":147,"label":"正面条件"},{"name":"neg_conditioning","type":"CONDITIONING","link":219,"label":"负面条件"},{"name":"latent_image","type":"LATENT","link":215,"label":"Latent"},{"name":"controlnet_condition","type":"ControlNetCondition","link":150,"label":"ControlNet条件"}],"outputs":[{"name":"latent","type":"LATENT","links":[153],"shape":3,"label":"Latent"}],"properties":{"Node name for S&R":"XlabsSampler"},"widgets_values":[378446646288851,"fixed",25,1,3.5,0,1]},{"id":68,"type":"VAEDecode","pos":{"0":408.595947265625,"1":1266.893798828125},"size":{"0":210,"1":46},"flags":{},"order":28,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":153,"slot_index":0,"label":"Latent"},{"name":"vae","type":"VAE","link":154,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[158],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":55,"type":"VAELoader","pos":{"0":-444,"1":375},"size":{"0":315,"1":58},"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"VAE","type":"VAE","links":[139,145,154],"slot_index":0,"shape":3,"label":"VAE"}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["ae.sft"]},{"id":52,"type":"DualCLIPLoader","pos":{"0":-439,"1":485},"size":{"0":315,"1":106},"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"CLIP","type":"CLIP","links":[127,140,151,204,216,218],"slot_index":0,"shape":3,"label":"CLIP"}],"properties":{"Node name for S&R":"DualCLIPLoader"},"widgets_values":["clip_l.safetensors","t5xxl_fp16.safetensors","flux"]},{"id":32,"type":"UNETLoader","pos":{"0":-436,"1":636},"size":{"0":315,"1":82},"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","links":[144,166,195],"slot_index":0,"shape":3,"label":"模型"}],"properties":{"Node name for S&R":"UNETLoader"},"widgets_values":["flux1-dev-fp8.safetensors","fp8_e4m3fn"]},{"id":63,"type":"PrimitiveNode","pos":{"0":-428,"1":763},"size":{"0":278.5330505371094,"1":83.36216735839844},"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"STRING","type":"STRING","links":[137,138,152],"slot_index":0,"widget":{"name":"t5xxl"},"label":"STRING"}],"properties":{"Run widget replace on values":false},"widgets_values":["luxury apartment"]},{"id":91,"type":"EmptyLatentImage","pos":{"0":-448,"1":918},"size":{"0":315,"1":106},"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[{"name":"LATENT","type":"LATENT","links":[208,214,215],"slot_index":0,"shape":3,"label":"Latent"}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[1536,1024,1]},{"id":16,"type":"LoadImage","pos":{"0":-534,"1":-83},"size":{"0":495.1001892089844,"1":418.30291748046875},"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[143,162,200,211],"slot_index":0,"shape":3,"label":"图像"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["Controlnet 参考图.png","image"]},{"id":78,"type":"PreviewImage","pos":{"0":1195,"1":1217},"size":{"0":367.2567443847656,"1":748.7256469726562},"flags":{"collapsed":false},"order":21,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":168,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":77,"type":"PreviewImage","pos":{"0":1195,"1":437},"size":{"0":345.6879577636719,"1":715.3612060546875},"flags":{"collapsed":false},"order":19,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":167,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":87,"type":"Image Comparer (rgthree)","pos":{"0":1177,"1":-391},"size":{"0":1024.5115966796875,"1":779.1099243164062},"flags":{},"order":33,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":200,"label":"图像_A","dir":3},{"name":"image_b","type":"IMAGE","link":201,"label":"图像_B","dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_xuybs_00003_.png&type=temp&subfolder=&rand=0.6499212666578409"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_xuybs_00004_.png&type=temp&subfolder=&rand=0.8956902696192419"}]]},{"id":5,"type":"CLIPTextEncodeFlux","pos":{"0":9,"1":120},"size":{"0":374.39837646484375,"1":130},"flags":{},"order":13,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":140,"slot_index":0,"label":"CLIP"},{"name":"t5xxl","type":"STRING","link":138,"widget":{"name":"t5xxl"},"label":"T5XXL"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[196],"slot_index":0,"shape":3,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncodeFlux"},"widgets_values":["","luxury apartment",4]}],"links":[[101,7,0,23,0,"IMAGE"],[123,53,0,51,1,"CONDITIONING"],[126,57,0,51,4,"ControlNetCondition"],[127,52,0,53,0,"CLIP"],[128,51,0,54,0,"LATENT"],[130,56,0,57,0,"FluxControlNet"],[133,54,0,59,0,"IMAGE"],[137,63,0,53,1,"STRING"],[138,63,0,5,1,"STRING"],[139,55,0,7,1,"VAE"],[140,52,0,5,0,"CLIP"],[143,16,0,65,0,"IMAGE"],[144,32,0,51,0,"MODEL"],[145,55,0,54,1,"VAE"],[147,67,0,66,1,"CONDITIONING"],[150,70,0,66,4,"ControlNetCondition"],[151,52,0,67,0,"CLIP"],[152,63,0,67,1,"STRING"],[153,66,0,68,0,"LATENT"],[154,55,0,68,1,"VAE"],[155,69,0,70,0,"FluxControlNet"],[158,68,0,72,0,"IMAGE"],[162,16,0,76,0,"IMAGE"],[163,76,0,70,1,"IMAGE"],[164,65,0,57,1,"IMAGE"],[166,32,0,66,0,"MODEL"],[167,65,0,77,0,"IMAGE"],[168,76,0,78,0,"IMAGE"],[182,14,0,84,4,"ControlNetCondition"],[194,13,0,14,0,"FluxControlNet"],[195,32,0,84,0,"MODEL"],[196,5,0,84,1,"CONDITIONING"],[199,84,0,7,0,"LATENT"],[200,16,0,87,0,"IMAGE"],[201,7,0,87,1,"IMAGE"],[203,89,0,84,2,"CONDITIONING"],[204,52,0,89,0,"CLIP"],[208,91,0,84,3,"LATENT"],[211,16,0,92,0,"IMAGE"],[212,92,0,39,0,"IMAGE"],[213,92,0,14,1,"IMAGE"],[214,91,0,51,3,"LATENT"],[215,91,0,66,3,"LATENT"],[216,52,0,94,0,"CLIP"],[217,94,0,51,2,"CONDITIONING"],[218,52,0,95,0,"CLIP"],[219,95,0,66,2,"CONDITIONING"]],"groups":[{"title":"HED","bounding":[0,1181,1168,774],"color":"#b58b2a","font_size":24,"flags":{}},{"title":"Depth","bounding":[0,408,1168,751],"color":"#8A8","font_size":24,"flags":{}},{"title":"Canny","bounding":[-2,-416,1165,807],"color":"#A88","font_size":24,"flags":{}},{"title":"全局管控","bounding":[-557,-192,535,1240],"color":"#b06634","font_size":50,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.5445000000000001,"offset":[2106.188393005511,902.7114914061721]},"workspace_info":{"id":"ZFibra9saD_iRBp7gL8NG"}},"version":0.4}